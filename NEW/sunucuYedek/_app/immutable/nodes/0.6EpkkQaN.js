import"../chunks/DsnmJJEf.js";import{p as D,o as M,a0 as W,c as g,s as r,ad as A,a6 as x,a8 as m,a as B,ae as w,a5 as y,a9 as $,ab as d,aa as k,af as G,ag as R,ah as j,V as F}from"../chunks/gqRpT9Y1.js";import{s as H,i as O,a as U}from"../chunks/Cbl08WOJ.js";import{p as V,b as J}from"../chunks/BFLW3xjU.js";import{g as K}from"../chunks/IiZb0rWJ.js";var N=y('<div class="fixed top-4 right-4 z-50"><select aria-label="Dil seçin / Select language" class="px-3 py-1.5 text-sm border border-gray-300 rounded-md bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"><option>Türkçe</option><option>English</option><option>Deutsch</option><option>中文</option><option>Português</option></select></div>');function Q(h,v){D(v,!0);const i=()=>H(V,"$page",p),[p,_]=U();let l=w("tr"),c=w(!1),f=w(!1);M(()=>{r(c,!0),b()}),W(()=>{if(!g(c))return;const e=i().url.pathname;e.startsWith("/en")?r(l,"en"):e.startsWith("/tr")&&r(l,"tr")});async function z(){const e=g(l),o=["tr","en"],s=["de","zh","pt"];if(o.includes(e)){const t=i().url.pathname;let a;t.startsWith("/tr/")||t.startsWith("/en/")?a=t.replace(/^\/(tr|en)/,`/${e}`):t==="/tr"||t==="/en"?a=`/${e}`:a=`/${e}${t}`,C(),await K(a,{replaceState:!0,keepFocus:!0,noScroll:!0})}else s.includes(e)&&await T(e)}function b(){if(window.google?.translate?.TranslateElement){r(f,!0);return}if(!document.querySelector('script[src*="translate.google.com"]')){window.googleTranslateElementInit=()=>{new window.google.translate.TranslateElement({pageLanguage:"tr",includedLanguages:"de,zh,pt,en,tr",autoDisplay:!1,layout:window.google.translate.TranslateElement.InlineLayout.SIMPLE},"google_translate_element"),r(f,!0),console.log("Google Translate initialized")};const e=document.createElement("script");e.src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit",e.async=!0,document.head.appendChild(e)}}async function T(e){if(!g(f)){setTimeout(()=>T(e),500);return}console.log("Changing translate language to:",e);const o=document.getElementById("google_translate_element");o&&(o.style.display="block");let s=0;const t=20,a=()=>{const n=document.querySelector(".goog-te-combo");if(n)if(console.log("Translate dropdown found, current value:",n.value),n.value!==e){n.value=e;const u=new Event("change",{bubbles:!0});n.dispatchEvent(u),console.log("Language change triggered to:",e),setTimeout(()=>{n.value===e?console.log("Translate successful!"):(console.log("Translate may have failed, retrying..."),a())},1e3)}else console.log("Language already set to:",e);else s<t?(s++,console.log("Dropdown not found, attempt:",s),setTimeout(a,300)):(console.error("Translate dropdown not found after",t,"attempts"),I(e))};a()}function I(e){const o=new URL(window.location.href);o.searchParams.set("hl",e),window.location.href=o.toString()}function C(){const e=document.getElementById("google_translate_element");e&&(e.style.display="none",e.innerHTML=""),setTimeout(()=>{const o=document.querySelector('.goog-te-menu-value span[style*="text-decoration"]');o&&o.click(),document.querySelectorAll(".goog-te-banner-frame").forEach(t=>{t.querySelectorAll("button").forEach(n=>{(n.textContent.includes("Show")||n.textContent.includes("Göster"))&&n.click()})})},100),r(f,!1),b()}var E=A(),L=x(E);{var q=e=>{var o=N(),s=$(o),t=$(s);t.value=t.__value="tr";var a=d(t);a.value=a.__value="en";var n=d(a);n.value=n.__value="de";var u=d(n);u.value=u.__value="zh";var S=d(u);S.value=S.__value="pt",k(s),k(o),J(s,()=>g(l),P=>r(l,P)),G("change",s,z),m(e,o)};O(L,e=>{g(c)&&e(q)})}m(h,E),B(),_()}var X=y('<link rel="icon" href="/kullogo.svg"/>'),Y=y('<!> <div id="google_translate_element" class="fixed bottom-4 right-4 z-40"></div> <!>',1);function ae(h,v){var i=Y();R(l=>{var c=X();m(l,c)});var p=x(i);Q(p,{});var _=d(p,4);j(_,()=>v.children??F),m(h,i)}export{ae as component};
